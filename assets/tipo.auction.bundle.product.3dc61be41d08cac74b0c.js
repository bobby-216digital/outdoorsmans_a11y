(self.webpackChunktipoAuction=self.webpackChunktipoAuction||[]).push([[18],{6910:(t,e,i)=>{"use strict";i.r(e),i.d(e,{default:()=>_});var o=i(4132),n=i(4642),a=i(5512),s=i(4412),r=i(6169),l=i(1264),d=i(2586),u=i(7723);const c={buildWidget:function(t,e){return i=this,o=void 0,a=function(){var i,o,n;return function(t,e){var i,o,n,a,s={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return a={next:r(0),throw:r(1),return:r(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function r(a){return function(r){return function(a){if(i)throw new TypeError("Generator is already executing.");for(;s;)try{if(i=1,o&&(n=2&a[0]?o.return:a[0]?o.throw||((n=o.return)&&n.call(o),0):o.next)&&!(n=n.call(o,a[1])).done)return n;switch(o=0,n&&(a=[2&a[0],n.value]),a[0]){case 0:case 1:n=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,o=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!((n=(n=s.trys).length>0&&n[n.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!n||a[1]>n[0]&&a[1]<n[3])){s.label=a[1];break}if(6===a[0]&&s.label<n[1]){s.label=n[1],n=a;break}if(n&&s.label<n[2]){s.label=n[2],s.ops.push(a);break}n[2]&&s.ops.pop(),s.trys.pop();continue}a=e.call(t,s)}catch(t){a=[6,t],o=0}finally{i=n=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,r])}}}(this,(function(a){return(i=document.createElement("DIV")).classList.add("tpa-modalTooltip-wrapper"),i.innerHTML=u.render('\n<div class="tpa-modalTooltip-widget">\n  <div class="tpa-modalTooltip-widget_info micromodal-slide" aria-hidden="false">\n    <div>\n      <div class="tpa-modalTooltip-dialog">\n        <div class="tpa-modalTooltip-dialog_container">\n            <div class="tpa-modalTooltip-dialog_content">\n              <div class="tpa-modalTooltip">\n                <button class="tpa-modalTooltip_closeButton" aria-label="Close">\n                    <span class="tpa-Modal-Icon">\n                    <svg height="14" width="14" viewBox="0 0 20 20" class="Polaris-Icon__Svg" focusable="false" aria-hidden="true"><path d="M11.414 10l6.293-6.293a1 1 0 1 0-1.414-1.414L10 8.586 3.707 2.293a1 1 0 0 0-1.414 1.414L8.586 10l-6.293 6.293a1 1 0 1 0 1.414 1.414L10 11.414l6.293 6.293A.998.998 0 0 0 18 17a.999.999 0 0 0-.293-.707L11.414 10z"></path></svg>\n                </button>\n              </div>\n              <div class="tpa-modalTooltip_header">\n              <div class="tpa-modalTooltip_header__title">\n                  <h1 class="tpa-text tpa-text--center">{{it.heading}}</h1>\n                  <div class="tpa-text--center tpa-text--description">\n                  </div>\n              </div>\n              </div>\n              <section class="tpa-modalTooltip_bodyWrapper">\n                <p class="tpa-text tpa-modalTooltip--content">{{it.content}}</p>\n              </section>\n              <div class="tpa-modalTooltip_footer">\n                <button class="tpa-button tpa-text--bold tpa_footer_CloseButton"> {{\'ppNote_close\' | translate}} </button>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n',{heading:t,content:e}),this.widget=i,o=document.querySelector("body"),(n=o.querySelector(".tpa-modalTooltip-wrapper"))&&n.remove(),document.querySelector("body").appendChild(this.widget),this.modal=document.querySelector(".tpa-modalTooltip-wrapper"),this.initWidget(),[2]}))},new((n=void 0)||(n=Promise))((function(t,e){function s(t){try{l(a.next(t))}catch(t){e(t)}}function r(t){try{l(a.throw(t))}catch(t){e(t)}}function l(e){var i;e.done?t(e.value):(i=e.value,i instanceof n?i:new n((function(t){t(i)}))).then(s,r)}l((a=a.apply(i,o||[])).next())}));var i,o,n,a},initWidget:function(){var t=this.modal,e=t.querySelector(".tpa-modalTooltip_closeButton"),i=t.querySelector(".tpa_footer_CloseButton");e.addEventListener("click",(function(e){e.preventDefault(),t.querySelector(".tpa-modalTooltip-widget_info").classList.remove("is-open")})),i.addEventListener("click",(function(e){e.preventDefault(),t.querySelector(".tpa-modalTooltip-widget_info").classList.remove("is-open")}))}};var p=i(3715),v=i(3913),m=i(3949),h=function(){return(h=Object.assign||function(t){for(var e,i=1,o=arguments.length;i<o;i++)for(var n in e=arguments[i])Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}).apply(this,arguments)},g=function(t,e,i,o){return new(i||(i=Promise))((function(n,a){function s(t){try{l(o.next(t))}catch(t){a(t)}}function r(t){try{l(o.throw(t))}catch(t){a(t)}}function l(t){var e;t.done?n(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(s,r)}l((o=o.apply(t,e||[])).next())}))},f=function(t,e){var i,o,n,a,s={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return a={next:r(0),throw:r(1),return:r(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function r(a){return function(r){return function(a){if(i)throw new TypeError("Generator is already executing.");for(;s;)try{if(i=1,o&&(n=2&a[0]?o.return:a[0]?o.throw||((n=o.return)&&n.call(o),0):o.next)&&!(n=n.call(o,a[1])).done)return n;switch(o=0,n&&(a=[2&a[0],n.value]),a[0]){case 0:case 1:n=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,o=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!((n=(n=s.trys).length>0&&n[n.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!n||a[1]>n[0]&&a[1]<n[3])){s.label=a[1];break}if(6===a[0]&&s.label<n[1]){s.label=n[1],n=a;break}if(n&&s.label<n[2]){s.label=n[2],s.ops.push(a);break}n[2]&&s.ops.pop(),s.trys.pop();continue}a=e.call(t,s)}catch(t){a=[6,t],o=0}finally{i=n=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,r])}}},y=i(751),b=i(7079);const _={buildWidget:function(){var t,e,i,a,r,l,d,u,c,p,y,_,w,S,x,q,L,B,I,T,H,A,C,k,M,P,E,W,F,z,O,D,N,Z,V,Y,j,R,G,J,K,Q,U,X,$,tt,et,it;return g(this,void 0,void 0,(function(){var g,ot,nt,at,st,rt,lt,dt,ut,ct,pt,vt,mt,ht,gt,ft;return f(this,(function(f){switch(f.label){case 0:return g=!1,ot=!1,nt=!1,at='\n<div class="tpa-product-widget">\n  <div class="tpa-product-widget__status {{@if(it.auctionStatus == 1)}} {{@if(it.summary.numberBids)}} {{@if(parseFloat(it.summary.currentAmount) > parseFloat(it.summary.customerBidAmount))}} __outbid {{#elif(it.summary.numberBids && it.reserve && it.reserve.enabled && parseFloat(it.reserve.amount) >= parseFloat(it.summary.customerBidAmount))}} __yourBidToLow {{/if}} {{/if}} {{#else}} __stopBidding{{/if}}">\n    <div class="tpa-status">\n\n      {{@if(it.auctionStatus == 1)}}\n        {{@if(it.settings.general.countdown == \'textClock\')}}\n          <div class="tpa-endIn">\n            <div class="tpa-remaining">\n              <div class="tpa-remaining__text">\n                <div class="tpa-text tpa-text--bold">\n                <span class="tpa-text--18px tpa-text--heading-color">{{\'closeAt\' | translate}}</span>\n                  <span class="tpa-remaining__text__block tpa-text--18px tpa-text--heading-color">\n                    {{* it.endAt | countdown }}\n                  </span>\n                </div>\n              </div>\n            </div>\n          </div>\n        {{#else}}\n          <div class="tpa-endIn tpa-text--heading-color">\n            {{\'closeAt\' | translate}}\n          </div>\n          <div class="tpa-remaining">\n            <div class="tpa-remaining__flipClock">\n              <div class="clock">\n              </div>\n            </div>\n          </div>\n        {{/if}}\n      {{#else}}\n        <div class="tpa-endIn tpa-text--heading-color">\n          {{\'closedForBidding\' | translate}}\n        </div>\n      {{/if}}\n\n      <div class="tpa-heading-messenger tpa-text--heading-color">\n\n        {{@if(it.auctionStatus == 1)}}\n          {{@if(it.summary.numberBids)}} \n            {{@if(parseFloat(it.summary.currentAmount) > parseFloat(it.summary.customerBidAmount))}}\n              {{\'messageCustomerBid_youHaveBeenOutBid\' | translate}}\n            {{#elif(it.reserve && it.reserve.enabled && parseFloat(it.reserve.amount) >= parseFloat(it.summary.customerBidAmount))}}\n              {{\'messageCustomerBid_YourBidIsTooLow\' | translate}}\n              <span class="tpa-tooltip">\n                <svg width="10" height="10" class="" viewBox="0 0 20 20"><path d="M10 0C4.48 0 0 4.48 0 10s4.48 10 10 10 10-4.48 10-10S15.52 0 10 0zm1 17H9v-2h2v2zm2.07-7.75l-.9.92C11.45 10.9 11 11.5 11 13H9v-.5c0-1.1.45-2.1 1.17-2.83l1.24-1.26c.37-.36.59-.86.59-1.41 0-1.1-.9-2-2-2s-2 .9-2 2H6c0-2.21 1.79-4 4-4s4 1.79 4 4c0 .88-.36 1.68-.93 2.25z"></path></svg>\n              </span>\n            {{/if}}\n          {{#else}}\n            {{\'messageCustomerBid_youHaveBidOnThisNotYes\' | translate}}\n          {{/if}}\n        {{#else}}\n          {{\'messageCustomerBid_youCanNoLongerPlaceAnyBidsOnThisLot\' | translate}}\n        {{/if}}\n\n      </div>\n    </div>\n  </div>\n\n  {{@if(it.auctionStatus == 1)}}\n    <div class="tpa-product-widget__other-info">\n      <div class="tpa-other-info">\n        <div class="tpa-row tpa-other-info__current_bid">\n          <div class="tpa-row__label tpa-text tpa-text--bold">{{\'currentBid\' | translate}}</div>\n          <div class="tpa-row__value tpa-price tpa-text tpa-text--bold">\n            {{@if (it.summary.currentAmount) }}\n              {{it.summary.currentAmount*100 | money}}\n            {{#else}}\n              {{it.startPrice*100 | money}}\n            {{/if}}\n          </div>\n        </div>\n        {{@if(it?.penny?.enabled && it?.pennyAuction?.isInPenneyProduct && it?.pennyAuction?.numberOfTurn && !it?.pennyAuction?.unlimited)}}\n        <div class="tpa-row tpa-other-info__number_limitBid">\n          <div class="tpa-row__label tpa-text">{{\'numberOfTurns\' | translate}}</div>\n          <div class="tpa-row__value tpa-text tpa-text--bold">{{it?.pennyAuction?.numberOfTurn}}</div>\n        </div>\n        {{/if}}\n        <div class="tpa-row tpa-other-info__number_bids {{@if (it.summary.numberOfBids < 1) }}is-close{{/if}}">\n          <div class="tpa-row__label tpa-text">{{\'bids\' | translate}}</div>\n          <div class="tpa-row__value tpa-text tpa-text--bold">{{it.summary.numberOfBids}}</div>\n        </div>\n        <div class="tpa-row tpa-other-info__start_price">\n          <div class="tpa-row__label tpa-text">{{\'startPrice\' | translate}}</div>\n          <div class="tpa-row__value tpa-text tpa-text--bold">{{parseFloat(it.startPrice)*100 | money }}</div>\n        </div>\n        {{@if(it.reserve && it.reserve.enabled && it.reserve.display)}}\n        <div class="tpa-row tpa-other-info__reserve_price">\n          <div class="tpa-row__label tpa-text">{{\'reservePrice\' | translate}} \n            <span class="tpa-tooltip">\n              <svg width="10" height="10" class="" viewBox="0 0 20 20"><path d="M10 0C4.48 0 0 4.48 0 10s4.48 10 10 10 10-4.48 10-10S15.52 0 10 0zm1 17H9v-2h2v2zm2.07-7.75l-.9.92C11.45 10.9 11 11.5 11 13H9v-.5c0-1.1.45-2.1 1.17-2.83l1.24-1.26c.37-.36.59-.86.59-1.41 0-1.1-.9-2-2-2s-2 .9-2 2H6c0-2.21 1.79-4 4-4s4 1.79 4 4c0 .88-.36 1.68-.93 2.25z"></path></svg>\n            </span>\n          </div>\n          <div class="tpa-row__value tpa-text tpa-text--bold">{{parseFloat(it.reserve.amount)*100 | money }}</div>\n        </div>\n        {{/if}}\n        {{@if(it.buyout && it.buyout.enabled && it.buyout.display)}}\n        <div class="tpa-row tpa-other-info__buyout_price">\n          <div class="tpa-row__label tpa-text">{{\'buyoutPrice\' | translate}} \n            <span class="tpa-tooltip">\n              <svg width="10" height="10" class="" viewBox="0 0 20 20"><path d="M10 0C4.48 0 0 4.48 0 10s4.48 10 10 10 10-4.48 10-10S15.52 0 10 0zm1 17H9v-2h2v2zm2.07-7.75l-.9.92C11.45 10.9 11 11.5 11 13H9v-.5c0-1.1.45-2.1 1.17-2.83l1.24-1.26c.37-.36.59-.86.59-1.41 0-1.1-.9-2-2-2s-2 .9-2 2H6c0-2.21 1.79-4 4-4s4 1.79 4 4c0 .88-.36 1.68-.93 2.25z"></path></svg>\n            </span>\n          </div>\n          <div class="tpa-row__value tpa-text tpa-text--bold">{{parseFloat(it.buyout.amount)*100 | money }}</div>\n        </div>\n        {{/if}}\n        <div class="tpa-row tpa-other-info__start_time">\n          <div class="tpa-row__label tpa-text">{{\'startTime\' | translate}}</div>\n          <div class="tpa-row__value tpa-text tpa-text--bold">{{it.startAt | datetime}}</div>\n        </div>\n        <div class="tpa-row tpa-other-info__end_time">\n          <div class="tpa-row__label tpa-text">{{\'endTime\' | translate}}</div>\n          <div class="tpa-row__value tpa-text tpa-text--bold">{{it.endAt | datetime}}</div>\n        </div>\n      </div>\n    </div>\n  {{/if}}\n\n  {{@if(it.auctionStatus == 1)}}\n    <div class="tpa-product-widget__action-group">\n      <div>\n        <div class="tpa-live_bid_wrapper">\n          <span class="tpa-live_bid_label tpa-text">{{\'liveBid\' | translate}}</span>\n        </div>\n        <div class="tpa-action live-bid">\n          <div class="tpa-your_bid">\n            <div class="tpa-bid_price_wrapper">\n              <div class="tpa-text tpa-text-Prefix">\n                <span>{{* it.configuration.money_format}}</span>\n              </div>\n              <input class="tpa-text tpa-auction-amount" value="{{@if (it.summary.currentAmount) }}{{(it.summary.currentAmount+parseFloat(it.increment)) * 100 | money(null,true)}}{{#else}}{{ it.startPrice * 100 | money(null,true)}}{{/if}}" />\n              <span class="tpa-control">\n                <span class="tpa-text tpa-increment-button tpa-plus-amount">\n                  <svg xmlns="http://www.w3.org/2000/svg" width="8" height="8" viewBox="0 0 24 24"><path d="M24 10h-10v-10h-4v10h-10v4h10v10h4v-10h10z"/></svg>\n                </span>\n                <span class="tpa-text tpa-increment-button tpa-minus-amount">\n                  <svg xmlns="http://www.w3.org/2000/svg" width="8" height="8" viewBox="0 0 24 24"><path d="M0 10h24v4h-24z"/></svg>\n                </span>\n              </span>\n            </div>\n          </div>\n          <div class="tpa-auction-bid">\n            <button class="tpa-button tpa-text--bold tpa-button--primary tpa-text--white tpa-text--nowrap">\n              <span class="tpa-button-text">{{\'placeBid\' | translate}}</span>\n              <span class="tpa-button-loading">\n              </span>\n            </button>\n          </div>\n          <div class="tpa-auction-amount-note">\n            <span class="tpa-text--small tpa-text--error is-close">\n                {{\'pleaseInsertAValidBidAmount\' | translate}}\n            </span>\n            <div class="tpa-text tpa-text--small"> {{\'nextMinimumBid\' | translate}} <span class="tpa-auction-amount-note-price">{{@if (it.summary.currentAmount) }}{{((it.summary.currentAmount+parseFloat(it.increment)) * 100) | money}}{{#else}}{{it.startPrice * 100 | money}}{{/if}}</span> </div>\n          </div>\n        </div>\n      </div>\n      {{@if(it.autoBid)}}\n      <div>\n        <div class="tpa-automatic_bid_wrapper">\n          <span class="tpa-automatic_bid_label tpa-text">\n            {{\'placeAnAutomaticBid\' | translate}}\n            <span class="tpa-tooltip">\n              <svg width="10" height="10" class="" viewBox="0 0 20 20"><path d="M10 0C4.48 0 0 4.48 0 10s4.48 10 10 10 10-4.48 10-10S15.52 0 10 0zm1 17H9v-2h2v2zm2.07-7.75l-.9.92C11.45 10.9 11 11.5 11 13H9v-.5c0-1.1.45-2.1 1.17-2.83l1.24-1.26c.37-.36.59-.86.59-1.41 0-1.1-.9-2-2-2s-2 .9-2 2H6c0-2.21 1.79-4 4-4s4 1.79 4 4c0 .88-.36 1.68-.93 2.25z"></path></svg>\n            </span>\n          </span>\n        </div>\n        <div class="tpa-action automatic-bid">\n          <div class="tpa-your_bid">\n            <div class="tpa-bid_price_wrapper">\n              <div class="tpa-text tpa-text-Prefix">\n                <span>{{* it.configuration.money_format}}</span>\n              </div>\n              <input class="tpa-text tpa-auction-automatic-amount" value="{{@if (it.summary.currentAmount && it.summary.autoBid) }}{{it.summary.autoBidAmount * 100 | money(null,true)}}{{/if}}" />\n              <span class="tpa-control">\n                <span class="tpa-text tpa-increment-button tpa-plus-automatic-amount">\n                  <svg xmlns="http://www.w3.org/2000/svg" width="8" height="8" viewBox="0 0 24 24"><path d="M24 10h-10v-10h-4v10h-10v4h10v10h4v-10h10z"/></svg>\n                </span>\n                <span class="tpa-text tpa-increment-button tpa-minus-automatic-amount">\n                  <svg xmlns="http://www.w3.org/2000/svg" width="8" height="8" viewBox="0 0 24 24"><path d="M0 10h24v4h-24z"/></svg>\n                </span>\n              </span>\n            </div>\n          </div>\n          <div class="tpa-auction-automatic-bid">\n            <button class="tpa-button tpa-text--bold tpa-button--primary tpa-text--white tpa-text--nowrap">\n              <span class="tpa-button-text">{{\'automaticBid\' | translate}}</span>\n              <span class="tpa-button-loading">\n              </span>\n            </button>\n          </div>\n          <div class="tpa-auction-amount-note">\n            <span class="tpa-text--small tpa-text--error is-close">\n              {{\'pleaseInsertAValidBidAmount\' | translate}}\n            </span>\n          </div>\n        </div>\n      </div>\n      {{/if}}\n      <div class="tpa-auction-message warning"></div>\n    </div>\n  {{/if}}\n\n  <div class="tpa-product-widget__bid-list">\n    <table class="tpa_bid_list">\n      <tbody>\n      </tbody>\n    </table>\n    <div class="tpa-bidding__Spinner tpa-text--center"></div>\n    <div class="tpa-history {{@if (it.summary.numberOfBids < 5) }}is-hidden{{/if}} ">\n      <a class="tpa-text tpa-history__toggle" href="#" >{{\'viewAllBids\' | translate}}</a>\n    </div>\n  </div>\n  {{@if(!it.settings.general?.copyright?.hideCopyright && !it.pricing?.features?.removeCopyright)}}\n    <div style="text-align: center;font-size:small;display: block !important;border-bottom: 1px solid #eaeaea;padding: 15px;table-layout: fixed; font-weight: bold;">\n      {{* it.settings.general?.copyright?.text}}\n    </div>\n  {{/if}}\n</div>\n',st=null===(t=this.widget)||void 0===t?void 0:t.querySelector('[name="id"]'),[4,(0,n.H2)(this.product.id,{profileId:this.profile.id,customerId:null===(e=null==this?void 0:this.customer)||void 0===e?void 0:e.id})];case 1:return rt=f.sent(),lt=(0,m.Ao)(h({},b(this.profile.config)),this.product,st,null==rt?void 0:rt.currentAmount),0==(dt=(0,m.PY)(this.product,this.profile))?((null===(r=null===(a=null===(i=this.shop.settings)||void 0===i?void 0:i.general)||void 0===a?void 0:a.hide)||void 0===r?void 0:r.addToCart.includes("expired"))&&(g=!0),(null===(u=null===(d=null===(l=this.shop.settings)||void 0===l?void 0:l.general)||void 0===d?void 0:d.hide)||void 0===u?void 0:u.price.includes("expired"))&&(ot=!0),(null===(y=null===(p=null===(c=this.shop.settings)||void 0===c?void 0:c.general)||void 0===p?void 0:p.hide)||void 0===y?void 0:y.additionalPaymentButton.includes("expired"))&&(nt=!0)):1==dt?((null===(S=null===(w=null===(_=this.shop.settings)||void 0===_?void 0:_.general)||void 0===w?void 0:w.hide)||void 0===S?void 0:S.addToCart.includes("live"))&&(g=!0),(null===(L=null===(q=null===(x=this.shop.settings)||void 0===x?void 0:x.general)||void 0===q?void 0:q.hide)||void 0===L?void 0:L.price.includes("live"))&&(ot=!0),(null===(T=null===(I=null===(B=this.shop.settings)||void 0===B?void 0:B.general)||void 0===I?void 0:I.hide)||void 0===T?void 0:T.additionalPaymentButton.includes("live"))&&(nt=!0)):2==dt&&((null===(C=null===(A=null===(H=this.shop.settings)||void 0===H?void 0:H.general)||void 0===A?void 0:A.hide)||void 0===C?void 0:C.addToCart.includes("scheduled"))&&(g=!0),(null===(P=null===(M=null===(k=this.shop.settings)||void 0===k?void 0:k.general)||void 0===M?void 0:M.hide)||void 0===P?void 0:P.price.includes("scheduled"))&&(ot=!0),(null===(F=null===(W=null===(E=this.shop.settings)||void 0===E?void 0:E.general)||void 0===W?void 0:W.hide)||void 0===F?void 0:F.additionalPaymentButton.includes("scheduled"))&&(nt=!0)),g&&(null===(N=null===(D=null===(O=null===(z=this.shop)||void 0===z?void 0:z.settings)||void 0===O?void 0:O.general)||void 0===D?void 0:D.selector)||void 0===N?void 0:N.add_to_cart.split(",")).forEach((function(t){document.querySelector(t)&&(document.querySelector(t).style.display="none")})),ot&&(null===(j=null===(Y=null===(V=null===(Z=this.shop)||void 0===Z?void 0:Z.settings)||void 0===V?void 0:V.general)||void 0===Y?void 0:Y.selector)||void 0===j?void 0:j.price.split(",")).forEach((function(t){document.querySelector(t)&&(document.querySelector(t).style.display="none")})),nt&&(null===(K=null===(J=null===(G=null===(R=this.shop)||void 0===R?void 0:R.settings)||void 0===G?void 0:G.general)||void 0===J?void 0:J.selector)||void 0===K?void 0:K.payment_button.split(",")).forEach((function(t){document.querySelector(t)&&(document.querySelector(t).style.display="none")})),!rt||rt.winnerAuction||2==dt?[3,4]:(ut=this.profile.end_at,ct=(0,m.zR)(this.profile,this.product.id),ut=ct.endAt,(null===(X=null===(U=null===(Q=this.profile)||void 0===Q?void 0:Q.config)||void 0===U?void 0:U.penny)||void 0===X?void 0:X.enabled)?(pt=this,[4,(0,s.V)({customerId:null===($=null==this?void 0:this.customer)||void 0===$?void 0:$.id,email:null===(tt=null==this?void 0:this.customer)||void 0===tt?void 0:tt.email,productId:this.product.id,profileId:this.profile.id,shopId:this.shop.id})]):[3,3]);case 2:pt.pennyAuction=f.sent(),f.label=3;case 3:vt=v.Z.render(o.Z,{settings:this.shop.settings}),document.querySelector(".tpa-auction-product-template")&&(at=document.querySelector(".tpa-auction-product-template").innerHTML),mt=v.Z.render(at,h(h({summary:rt},lt),{startAt:this.profile.start_at,endAt:ut,settings:this.shop.settings,configuration:this.shop.configuration,pennyAuction:this.pennyAuction,customerId:null===(et=null==this?void 0:this.customer)||void 0===et?void 0:et.id,pricing:null===(it=this.shop)||void 0===it?void 0:it.pricing,auctionStatus:dt})),(ht=document.createElement("DIV")).classList.add("tpa-product-widget-wrapper"),ht.innerHTML=mt,ht.innerHTML+=vt,this.widget=ht,gt=this.form,document.querySelector(".tpa_product_form")&&!this.form?gt=document.querySelector(".tpa_product_form"):this.form||(gt=document.querySelector('form[action*="/cart/add"]')),(ft=gt.querySelector(".tpa-product-widget-wrapper"))&&ft.remove(),gt.appendChild(this.widget),this.tpaCurrentPrice=rt.currentAmount,1==dt&&("textClock"==this.shop.settings.general.countdown?this.tpaIntervalId=(0,m.gV)(ut,this.widget):(0,m.gr)(ut,this.widget)),this.loadHistory(),this.initWidget(),this.initSocket(),f.label=4;case 4:return[2]}}))}))},updateWidget:function(t){var e,i,o,n,a;return g(this,void 0,void 0,(function(){var s,l,d,u,p,v,g,y,_,w,S,x,q,L,B,I,T,H,A,C=this;return f(this,(function(f){return s=this.widget.querySelector(".tpa-product-widget__other-info .tpa-price"),l=this.widget.querySelector(".tpa-history"),d=this.widget.querySelector(".tpa-other-info__number_bids"),u=this.widget.querySelector(".tpa-remaining__text__block"),p=this.widget.querySelector(".tpa-auction-amount"),v=this.widget.querySelector(".tpa-auction-automatic-amount"),g=this.widget.querySelector(".tpa-other-info__end_time .tpa-row__value"),y=this.widget.querySelector(".tpa-other-info__number_limitBid .tpa-row__value"),_=this.widget.querySelector(".tpa-auction-bid button"),w=this.widget.querySelector(".tpa-auction-automatic-bid button"),S=this.widget.querySelector(".tpa-auction-amount-note .tpa-auction-amount-note-price"),x=this.widget.querySelector(".tpa-product-widget__status"),q=this.widget.querySelector(".tpa-product-widget__status .tpa-heading-messenger"),L=null===(e=this.widget)||void 0===e?void 0:e.querySelector('[name="id"]'),B=(0,m.Ao)(h({},b(this.profile.config)),this.product,L,null==t?void 0:t.currentAmount),t&&(t.winnerAuction?(H=this.form,document.querySelector(".tpa_product_form")&&!this.form?H=document.querySelector(".tpa_product_form"):this.form||(H=document.querySelector('form[action*="/cart/add"]')),(A=H.querySelector(".tpa-product-widget-wrapper"))&&A.remove()):(t.currentAmount&&(s.innerHTML=(0,m.lb)(100*t.currentAmount),this.tpaCurrentPrice=t.currentAmount,I=t.currentAmount+parseFloat(B.increment),(0,m.rI)(p.value)<I&&(p.value=(0,m.lb)(100*I,null,!0),S.innerHTML=(0,m.lb)(100*I)),v&&(0,m.rI)(v.value)<I&&(v.value=(0,m.lb)(100*I,null,!0))),t.numberOfBids&&(t.numberOfBids>5&&l.classList.remove("is-hidden"),d.classList.remove("is-close"),d.querySelector(".tpa-row__value").innerHTML=t.numberOfBids),(null==this?void 0:this.customer)?(null===(i=null==this?void 0:this.customer)||void 0===i?void 0:i.id)==t.customerId?(null===(o=null==B?void 0:B.reserve)||void 0===o?void 0:o.enabled)&&(null===(n=null==B?void 0:B.reserve)||void 0===n?void 0:n.amount)>t.currentAmount?(x.classList.remove("__outbid"),x.classList.add("__yourBidToLow"),q.classList.remove("is-close"),q.innerHTML=(0,m.Iu)("messageCustomerBid_YourBidIsTooLow","")+' <span class="tpa-tooltip"><svg width="10" height="10" class="" viewBox="0 0 20 20"><path d="M10 0C4.48 0 0 4.48 0 10s4.48 10 10 10 10-4.48 10-10S15.52 0 10 0zm1 17H9v-2h2v2zm2.07-7.75l-.9.92C11.45 10.9 11 11.5 11 13H9v-.5c0-1.1.45-2.1 1.17-2.83l1.24-1.26c.37-.36.59-.86.59-1.41 0-1.1-.9-2-2-2s-2 .9-2 2H6c0-2.21 1.79-4 4-4s4 1.79 4 4c0 .88-.36 1.68-.93 2.25z"></path></svg></span>',(T=this.widget.querySelector(".tpa-heading-messenger .tpa-tooltip"))&&T.addEventListener("click",(function(){c.buildWidget((0,m.Iu)("ppMessageCustomerBid_reserveMessage",""),(0,m.Iu)("ppMessageCustomerBid_reserveMessageContent","")),C.modalHistory=document.querySelector(".tpa-modalTooltip-wrapper"),C.modalHistory.querySelector(".tpa-modalTooltip-widget_info").classList.add("is-open")}))):(x.classList.remove("__outbid","__yourBidToLow"),q.classList.add("is-close")):(x.classList.add("__outbid"),x.classList.remove("__yourBidToLow"),q.classList.remove("is-close"),q.innerHTML=(0,m.Iu)("messageCustomerBid_youHaveBeenOutBid","")):(x.classList.remove("__outbid","__yourBidToLow"),q.classList.remove("is-close"),q.innerHTML=(0,m.Iu)("messageCustomerBid_youHaveBidOnThisNotYes","")),t.endTime&&("textClock"==this.shop.settings.general.countdown&&u?(this.tpaIntervalId&&clearInterval(this.tpaIntervalId),this.tpaIntervalId=(0,m.gV)(t.endTime,this.widget)):(0,m.gr)(t.endTime,this.widget),g.innerHTML=(0,m.jF)(t.endTime)),this.pennyAuction&&(null===(a=null==this?void 0:this.customer)||void 0===a?void 0:a.id)==t.customerId&&y&&(y.innerHTML=t.pennies.numberOfTurn),this.rebuildHistoryTable(0,!1).then((function(t){var e;if(C.modalHistory){var i=C.modalHistory.querySelector(".tpa-listBidModal_bodyWrapper");i&&(i.scrollTop=0,C.modalHistoryEndBid=!1)}r.Z.rebuildHistory(t,C.shop,null===(e=null==C?void 0:C.customer)||void 0===e?void 0:e.id,C.shop.settings,!0,C.page)})))),_.disabled=!1,_.querySelector(".tpa-button-text").classList.remove("is-close"),_.querySelector(".tpa-button-loading").classList.remove("is-open"),w&&(w.disabled=!1,w.querySelector(".tpa-button-text").classList.remove("is-close"),w.querySelector(".tpa-button-loading").classList.remove("is-open")),[2]}))}))},initSocket:function(){var t,e=this;if(!this.socket){var i={role:"customer",url:this.shop.url,productId:this.product.id,email:null===(t=null==this?void 0:this.customer)||void 0===t?void 0:t.email,profileId:this.profile.id,collection:!1},o=y("https://auction.tipo.io",{query:i});o.on("new bid",(function(t){return g(e,void 0,void 0,(function(){var e,i;return f(this,(function(o){switch(o.label){case 0:return[4,this.updateWidget(t)];case 1:return o.sent(),this.loadHistory(),(null===(e=null==this?void 0:this.customer)||void 0===e?void 0:e.id)&&t.customerId==(null===(i=null==this?void 0:this.customer)||void 0===i?void 0:i.id)&&this.showMessage((0,m.Iu)(t.message,""),"success"),[2]}}))}))})),o.on("fail bid",(function(t){var i,o;if((null===(i=null==e?void 0:e.customer)||void 0===i?void 0:i.id)&&t.customerId==(null===(o=null==e?void 0:e.customer)||void 0===o?void 0:o.id)){"pennyIsInvalid"!=t.message?e.showMessage((0,m.Iu)(t.message,""),"warning"):e.checkCustomerIsLogged(t.pennies,!1);var n=e.widget.querySelector(".tpa-auction-bid button"),a=e.widget.querySelector(".tpa-auction-automatic-bid button");n.disabled=!1,n.querySelector(".tpa-button-text").classList.remove("is-close"),n.querySelector(".tpa-button-loading").classList.remove("is-open"),a&&(a.disabled=!1,a.querySelector(".tpa-button-text").classList.remove("is-close"),a.querySelector(".tpa-button-loading").classList.remove("is-open"))}})),o.on("stop bid",(function(t){return g(e,void 0,void 0,(function(){var e,i;return f(this,(function(o){switch(o.label){case 0:return(null==t?void 0:t.productId)!=this.product.id||(null==t?void 0:t.auctionId)!=this.profile.id?[3,2]:(l.Z.buildWidget(t,null==this?void 0:this.customer,this.shop),this.modalStopBid=document.querySelector(".tpa-stopModal-wrapper"),this.modalStopBid.querySelector(".tpa-stopModal-widget_info").classList.add("is-open"),[4,this.updateWidget(t)]);case 1:o.sent(),o.label=2;case 2:return e=this.form,document.querySelector(".tpa_product_form")&&!this.form?e=document.querySelector(".tpa_product_form"):this.form||(e=document.querySelector('form[action*="/cart/add"]')),(i=e.querySelector(".tpa-product-widget-wrapper"))&&i.remove(),[2]}}))}))})),o.on("stop auction",(function(t){return g(e,void 0,void 0,(function(){var e,i,o,n,a;return f(this,(function(s){return(null==t?void 0:t.stopAuction)&&this.profile.id==(null==t?void 0:t.auctionId)&&!(null==t?void 0:t.startingProducts.includes(this.product.id))&&(this.modalStopBid||(l.Z.buildWidget(t,0,this.shop),this.modalStopBid=document.querySelector(".tpa-stopModal-wrapper"),this.modalStopBid.querySelector(".tpa-stopModal-widget_info").classList.add("is-open")),e=this.form,document.querySelector(".tpa_product_form")&&!this.form?e=document.querySelector(".tpa_product_form"):this.form||(e=document.querySelector('form[action*="/cart/add"]')),(i=e.querySelector(".tpa-product-widget-wrapper"))&&(i.style.display="block",o=i.querySelector(".tpa-product-widget__status"),n=i.querySelector(".tpa-product-widget__other-info"),a=i.querySelector(".tpa-product-widget__action-group"),o&&(o.classList.remove("__yourBidToLow"),o.classList.remove("__outbid"),o.classList.add("__stopBidding"),o.innerHTML=' \n\t\t\t\t\t\t\t<div class="tpa-status">\n\t\t\t\t\t\t\t\t<div class="tpa-endIn tpa-text--heading-color">\n\t\t\t\t\t\t\t\t\t'+(0,m.Iu)("closedForBidding","")+'\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div class="tpa-heading-messenger tpa-text--heading-color">\n\t\t\t\t\t\t\t\t\t'+(0,m.Iu)("messageCustomerBid_youCanNoLongerPlaceAnyBidsOnThisLot","")+"\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>"),n&&n.remove(),a&&a.remove())),[2]}))}))})),this.socket=o}},initWidget:function(){var t=this,e=this.widget.querySelector(".tpa-auction-bid button"),i=this.widget.querySelector(".tpa-auction-automatic-bid button"),o=this.widget.querySelector(".tpa-auction-amount"),n=this.widget.querySelector(".tpa-auction-automatic-amount"),a=this.widget.querySelector(".tpa-plus-amount"),s=this.widget.querySelector(".tpa-minus-amount"),l=this.widget.querySelector(".tpa-plus-automatic-amount"),d=this.widget.querySelector(".tpa-minus-automatic-amount"),u=this.widget.querySelector(".tpa-history__toggle"),v=this.widget.querySelector(".tpa-other-info__reserve_price .tpa-tooltip"),h=this.widget.querySelector(".tpa-other-info__buyout_price .tpa-tooltip"),g=this.widget.querySelector(".tpa-heading-messenger .tpa-tooltip"),f=this.widget.querySelector(".tpa-automatic_bid_wrapper .tpa-tooltip"),y=this.widget.querySelector(".tpa-action.live-bid .tpa-auction-amount-note .tpa-text--error"),b=this.widget.querySelector(".tpa-action.automatic-bid .tpa-auction-amount-note .tpa-text--error"),_=this.product,w=_.featured_image,S=_.handle,x=_.id,q=_.title,L=_.type,B=_.vendor;(null==this?void 0:this.customer)||(o.disabled=!0,n&&(n.disabled=!0)),this.checkCustomerIsLogged(this.pennyAuction,!1),o&&o.addEventListener("change",(function(t){var e=(0,m.rI)(o.value);o.value=(0,m.lb)(100*e,null,!0)})),e&&e.addEventListener("click",(function(n){var a,s,r;if(n.preventDefault(),null==t?void 0:t.customer){if(null===(s=null===(a=t.shop.settings.general)||void 0===a?void 0:a.confirmationDialog)||void 0===s?void 0:s.enabled){var l=(0,m.Iu)("ppMessageCustomerBid_areSureYouWantToBid","");if(1!=confirm(l))return!1}if(t.checkCustomerIsLogged(t.pennyAuction,!0)){var d=(0,m.rI)(o.value),u=d,c=t.validPrice(!0,""),v=null===(r=t.widget)||void 0===r?void 0:r.querySelector('[name="id"]'),h=t.product.variants.find((function(t){return t.available}));if(!d||c>0&&c>d)return y.classList.remove("is-close"),!1;y.classList.add("is-close"),i&&(i.disabled=!0),h=v?t.product.variants.find((function(t){return t.id==v.value})):t.product.variants.find((function(t){return!0})),e.disabled=!0,e.querySelector(".tpa-button-text").classList.add("is-close"),e.querySelector(".tpa-button-loading").classList.add("is-open");var g={autoBid:!1,auto_bid_amount:u,amount:d,profileId:t.profile.id,customer:null==t?void 0:t.customer,product:{featured_image:w,handle:S,id:x,title:q,type:L,vendor:B,selectedVariant:h},url:t.shop.url};t.socket.emit("bid",g)}}else p.Z.buildWidget(),t.modalLogin=document.querySelector(".tpa-modalLogin-wrapper"),t.modalLogin.querySelector(".tpa-modalLogin-widget_info").classList.add("is-open")})),a&&a.addEventListener("click",(function(e){if(e.preventDefault(),!(null==t?void 0:t.customer))return!1;var i=(0,m.rI)(o.value);o.value=(0,m.lb)(100*t.validPrice(!0,i),null,!0)})),s&&s.addEventListener("click",(function(e){if(e.preventDefault(),!(null==t?void 0:t.customer))return!1;var i=(0,m.rI)(o.value);o.value=(0,m.lb)(100*t.validPrice(!1,i),null,!0)})),i&&l&&d&&n&&(n.addEventListener("change",(function(t){var e=(0,m.rI)(n.value);n.value=(0,m.lb)(100*e,null,!0)})),i.addEventListener("click",(function(a){var s,r,l;if(a.preventDefault(),null==t?void 0:t.customer){if(null===(r=null===(s=t.shop.settings.general)||void 0===s?void 0:s.confirmationDialog)||void 0===r?void 0:r.enabled){var d=(0,m.Iu)("ppMessageCustomerBid_areSureYouWantToBid","");if(1!=confirm(d))return!1}if(t.checkCustomerIsLogged(t.pennyAuction,!0)){var u=(0,m.rI)(o.value),c=(0,m.rI)(n.value),v=t.validPrice(!0,""),h=null===(l=t.widget)||void 0===l?void 0:l.querySelector('[name="id"]');if(!c||v>0&&v>c)return b.classList.remove("is-close"),!1;b.classList.add("is-close");var g=t.product.variants.find((function(t){return t.available}));g=h?t.product.variants.find((function(t){return t.id==h.value})):t.product.variants.find((function(t){return!0})),u>=v&&c>v?(c=c,n.value=(0,m.lb)(100*c,null,!0),o.value=(0,m.lb)(100*u,null,!0),u=v,b.classList.add("is-close")):(c=u=v,o.value=(0,m.lb)(100*u,null,!0),n.value=(0,m.lb)(100*u,null,!0)),v>0&&(Number.isNaN(u)||v>u)&&(u=v,o.value=(0,m.lb)(100*u,null,!0),n.value=(0,m.lb)(100*u,null,!0)),i.disabled=!0,e.disabled=!0,i.querySelector(".tpa-button-text").classList.add("is-close"),i.querySelector(".tpa-button-loading").classList.add("is-open");var f={autoBid:!0,auto_bid_amount:c,amount:u,profileId:t.profile.id,customer:null==t?void 0:t.customer,product:{featured_image:w,handle:S,id:x,title:q,type:L,vendor:B,selectedVariant:g},url:t.shop.url};t.socket.emit("bid",f)}}else p.Z.buildWidget(),t.modalLogin=document.querySelector(".tpa-modalLogin-wrapper"),t.modalLogin.querySelector(".tpa-modalLogin-widget_info").classList.add("is-open")})),l.addEventListener("click",(function(e){if(e.preventDefault(),!(null==t?void 0:t.customer))return!1;var i=(0,m.rI)(n.value);n.value=(0,m.lb)(100*t.validPrice(!0,i),null,!0)})),d.addEventListener("click",(function(e){if(e.preventDefault(),!(null==t?void 0:t.customer))return!1;var i=(0,m.rI)(n.value);n.value=(0,m.lb)(100*t.validPrice(!1,i),null,!0)}))),g&&g.addEventListener("click",(function(){c.buildWidget((0,m.Iu)("ppMessageCustomerBid_reserveMessage",""),(0,m.Iu)("ppMessageCustomerBid_reserveMessageContent","")),t.modalHistory=document.querySelector(".tpa-modalTooltip-wrapper"),t.modalHistory.querySelector(".tpa-modalTooltip-widget_info").classList.add("is-open")})),v&&v.addEventListener("click",(function(){c.buildWidget((0,m.Iu)("howReservePriceWork",""),(0,m.Iu)("howReservePriceWorkContent","")),t.modalHistory=document.querySelector(".tpa-modalTooltip-wrapper"),t.modalHistory.querySelector(".tpa-modalTooltip-widget_info").classList.add("is-open")})),h&&h.addEventListener("click",(function(){c.buildWidget((0,m.Iu)("howBuyoutPriceWork",""),(0,m.Iu)("howBuyoutPriceWorkContent","")),t.modalHistory=document.querySelector(".tpa-modalTooltip-wrapper"),t.modalHistory.querySelector(".tpa-modalTooltip-widget_info").classList.add("is-open")})),f&&f.addEventListener("click",(function(){c.buildWidget((0,m.Iu)("howDoAutomaticBidsWork",""),(0,m.Iu)("howDoAutomaticBidsWorkContent","")),t.modalHistory=document.querySelector(".tpa-modalTooltip-wrapper"),t.modalHistory.querySelector(".tpa-modalTooltip-widget_info").classList.add("is-open")})),u.addEventListener("click",(function(e){e.preventDefault(),t.modalHistoryEndBid=!1,r.Z.buildWidget(t.shop.settings,t.page),t.modalHistory=document.querySelector(".tpa-listBidModal-wrapper"),t.modalHistory.querySelector(".tpa-listBidModal-widget_info").classList.add("is-open"),t.rebuildHistoryTable(0,!1).then((function(e){var i,o=t.modalHistory.querySelector(".tpa-listBidModal_bodyWrapper");r.Z.rebuildHistory(e,t.shop,null===(i=null==t?void 0:t.customer)||void 0===i?void 0:i.id,t.shop.settings,!1,t.page),o.addEventListener("scroll",(function(){o.scrollTop+o.clientHeight!=o.scrollHeight||t.modalHistoryEndBid||t.rebuildHistoryTable(t.modalHistory.querySelectorAll("tbody>tr").length,!1).then((function(e){var i;(null==e?void 0:e.histories.length)<10&&(t.modalHistoryEndBid=!0),r.Z.rebuildHistory(e,t.shop,null===(i=null==t?void 0:t.customer)||void 0===i?void 0:i.id,t.shop.settings,!1,t.page)}))}))}))}))},loadHistory:function(){return g(this,void 0,void 0,(function(){var t,e,i,o,n=this;return f(this,(function(a){return t=this.widget.querySelector(".tpa-history"),e=this.widget.querySelector(".tpa-product-widget__bid-list .tpa-bidding__Spinner"),i=this.widget.querySelector(".tpa-product-widget__bid-list .tpa_bid_list tbody"),e.style.display="block",o="",this.rebuildHistoryTable(0,!1).then((function(a){var s,r,l,d;if((null===(s=null==a?void 0:a.histories)||void 0===s?void 0:s.length)>0){for(var u in a.histories)if(!(parseInt(u)>4)){var c=a.histories[u],p=c.details,v=c.amount,h=c.created_at,g=(0,m.lb)(100*v),f=(0,m.jF)(h);(null===(d=null===(l=null===(r=n.shop.settings)||void 0===r?void 0:r.general)||void 0===l?void 0:l.history)||void 0===d?void 0:d.columns)&&h&&v&&(o+="0"==u?'<tr class="tpa-text tpa-text--bold">':'<tr class="tpa-text">',-1!=n.shop.settings.general.history.columns.indexOf("fullName")&&(o+='<td class="bid_name_column">'+p.customer.name+"</td>"),-1!=n.shop.settings.general.history.columns.indexOf("email")&&(o+='<td class="bid_email_column">'+p.customer.email+"</td>"),-1!=n.shop.settings.general.history.columns.indexOf("bidAmount")&&(o+='<td class="bid_amount_column">'+g+"</td>"),-1!=n.shop.settings.general.history.columns.indexOf("bidTime")&&(o+='<td class="bid_time_column">'+f+"</td>"),o+="</tr>")}}else o+='<tr><td class="tpa-text tpa-text--center">'+(0,m.Iu)("noBidsPlaced","")+"</td></tr>",t.classList.add("is-hidden");i.innerHTML=o,e.style.display="none"})),[2]}))}))},rebuildHistoryTable:function(t,e){var i;return g(this,void 0,void 0,(function(){return f(this,(function(o){switch(o.label){case 0:return this.modalHistory&&!this.modalHistoryEndBid&&this.modalHistory.querySelector(".tpa-bidding__Spinner")&&(this.modalHistory.querySelector(".tpa-bidding__Spinner").style.display="block"),[4,(0,a.n)(this.product.id,{profileId:this.profile.id,email:null===(i=null==this?void 0:this.customer)||void 0===i?void 0:i.email,shopId:this.shop.id,numberRow:t,first:e},this.shop.url)];case 1:return[2,o.sent()]}}))}))},validPrice:function(t,e){var i,o=null===(i=this.widget)||void 0===i?void 0:i.querySelector('[name="id"]'),n=(0,m.Ao)(h({},b(this.profile.config)),this.product,o,e),a=Number.isNaN(parseFloat(e))?this.tpaCurrentPrice?parseFloat(this.tpaCurrentPrice):parseFloat(n.startPrice):parseFloat(e);return this.tpaCurrentPrice?(t?a+=parseFloat(n.increment):a-=parseFloat(n.increment),n.startPrice>=a&&(a=parseFloat(n.increment)),a):(this.tpaCurrentPrice=n.startPrice,n.startPrice)},showMessage:function(t,e){var i=this,o=this.widget.querySelector(".tpa-auction-message");o.innerHTML="","warning"==e&&o.classList.remove("success"),o.classList.add(e),o.innerHTML='<div class="content">'+t+'</div><div class="dismiss"><svg viewBox="0 0 20 20" class="" focusable="false" aria-hidden="true"><path d="M11.414 10l4.293-4.293a.999.999 0 1 0-1.414-1.414L10 8.586 5.707 4.293a.999.999 0 1 0-1.414 1.414L8.586 10l-4.293 4.293a.999.999 0 1 0 1.414 1.414L10 11.414l4.293 4.293a.997.997 0 0 0 1.414 0 .999.999 0 0 0 0-1.414L11.414 10z" fill-rule="evenodd"></path></svg></div>',o.style.display="flex",o.querySelector(".dismiss").addEventListener("click",(function(t){o.style.display="none",o.classList.remove(e)})),o.querySelector(".pennyModal")&&(d.Z.buildWidget(this.pennyAuction),o.querySelector(".pennyModal").addEventListener("click",(function(t){t.preventDefault(),i.modalPenny=document.querySelector(".tpa-pennyModal-wrapper"),i.modalPenny.querySelector(".tpa-pennyModal-widget_info").classList.add("is-open")})))},checkCustomerIsLogged:function(t,e){var i,o=!0;if(null===(i=null==this?void 0:this.customer)||void 0===i?void 0:i.email){if(t&&!(null==t?void 0:t.isInPenneyProduct)&&!(null==t?void 0:t.unlimited)){var n=this.widget.querySelector(".tpa-auction-message");n.classList.contains("success")&&(n.style.display="none",n.classList.remove("success"));var a=(0,m.Iu)("youHaveNumberAuctionsBuyItHere","");this.showMessage(a,"warning"),e&&n.querySelector(".pennyModal").click(),o=!1}}else o=!1;return o}}}}]);